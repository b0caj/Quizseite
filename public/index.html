<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Buzzer - Spieler</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/index.css">
    <link rel="icon" type="image/png" href="/pictures/favicon.png">
</head>

<body class="player-body">
    <header class="player-header">
        <h1>Buzzerraum</h1>
    </header>

    <main class="content-container">

        <section id="auth-section" class="auth-section">
            <div id="login-form" class="auth-card">
                <h2>Buzzerraum Login</h2>
                <input type="text" id="username" placeholder="Benutzername" class="input-field neon-border"><br>
                <input type="password" id="password" placeholder="Passwort" class="input-field neon-border"><br>
                <button onclick="handleLogin()" class="button primary glow">Login</button>
                <p id="login-status" class="status-message"></p>
            </div>

            <div id="register-area" class="auth-card register-card">
                <h3>Noch kein Konto?</h3>
                <input type="text" id="reg-username" placeholder="Neuer Benutzername"
                    class="input-field neon-border"><br>
                <input type="password" id="reg-password" placeholder="Passwort" class="input-field neon-border"><br>
                <button onclick="handleRegister()" class="button secondary-accent glow">Registrieren</button>
                <p id="register-status" class="status-message"></p>
            </div>
        </section>

        <section id="buzzer-area" class="buzzer-section" style="display:none;">

            <div class="game-top-bar">
                <h2 id="welcome-message">Willkommen! </h2>
                <div class="top-controls">
                    <a href="/stats.html" class="button info small-button">Zur Ewigen Bestenliste</a>
                    <button onclick="logout()" class="button danger small-button">Logout</button>
                </div>
            </div>

            <div class="player-game-layout">

                <div id="wbm-bidding-area" class="card buzzer-card" style="display: none;">
                    <h2 class="card-title">Wer bietet mehr</h2>

                    <div id="wbm-prep-timer" style="display: none;">
                        <p>Kategorie: <strong id="wbm-category-display">Wird geladen...</strong></p>
                        <p>Vorbereitungszeit läuft: <strong id="wbm-countdown-display"
                                class="neon-text-highlight">05:00</strong></p>
                        <p class="status-message">Schreibe so viele korrekte Antworten wie möglich auf!</p>
                    </div>

                    <textarea id="wbm-tips" placeholder="Deine Gedanken..." class="input-field neon-border"
                        style="height: 300px;"> </textarea>

                    <div id="wbm-bid-controls" style="display: none;">
                        <p>Höchstes Gebot: <strong id="current-high-bid-value">0</strong> (<span
                                id="current-high-bidder">niemand</span>)</p>

                        <div class="answer-submission-area" style="margin-top: 15px;">
                            <input type="number" id="wbm-bid-input" min="1" placeholder="Dein Gebot (Anzahl Antworten)"
                                class="input-field neon-border">
                            <button onclick="submitBid()" class="button action small-button glow">Gebot senden</button>
                        </div>

                        <p id="wbm-bid-status" class="status-message"></p>
                    </div>

                    <div id="wbm-answer-info" style="display: none;">
                        <p class="neon-text-highlight">Du hast den Zuschlag!</p>
                        <p>Gebot: <strong id="wbm-final-bid"></strong>. Bitte nenne dem Host deine Antworten.</p>
                    </div>
                    <div id="wbm-revealed-answers-card" class="card score-card" style="margin-top: 20px;">
                        <h2 class="card-title">Aufgedeckte Antworten</h2>
                        <ul id="wbm-revealed-answers" class="styled-list">
                        </ul>
                    </div>
                </div>

                <div id="classicBuzzerArea" class="buzzer-area-left">
                    <div class="buzzer-container" id="buzzer-area">
                        <p id="question-progress" class="status-message"
                            style="text-align: center; font-size: 1.2em; margin-bottom: 15px;">
                            Frage <span id="current-question-display">--</span> von <span
                                id="total-questions-display">--</span>
                        </p>
                        <button id="buzzer-button" onclick="buzz()" class="buzzer-button neon-shadow">BUZZ!</button>
                        <p id="buzzer-status" class="status-message huge-status">Warte auf die nächste Frage...</p>
                    </div>

                    <div id="buzzer-timer-container" style="display: none;">
                        <h2 class="timer-display">
                            Zeit für Antwort: <span id="buzzer-timer">10</span>s
                        </h2>
                    </div>

                    <div id="skip-controls" class="card action-card small-card">
                        <p class="card-title">Frage zu schwer?</p>
                        <button id="skip-button" onclick="requestSkip()" class="button action skip-button-style">
                            Frage überspringen anfragen
                        </button>
                    </div>

                    <div class="answer-submission-area">
                        <input type="text" id="answer-input" placeholder="Deine Antwort..."
                            class="input-field neon-border">
                        <button onclick="submitAnswer()" class="button success small-button">Antwort senden</button>
                    </div>
                </div>

                <div class="card score-card player-score-card">
                    <h2 class="card-title">Aktueller Punktestand</h2>
                    <div class="styled-table-wrapper scrollable-content">
                        <table id="current-scores" class="styled-table">
                            <thead>
                                <tr>
                                    <th class="player-name-col">Spieler</th>
                                    <th class="score-column">Punkte</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script src="/socket.io/socket.io.js"></script>
    <script src="/js/index.js"></script>
</body>

</html>